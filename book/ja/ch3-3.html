---
layout: translation
title: Pro Git 3.3 Git のブランチ機能 ブランチの管理
---
<h2 id='id60'>ブランチの管理</h2>

<p>これまでにブランチの作成、マージ、そして削除を行いました。ここで、いくつかのブランチ管理ツールについて見ておきましょう。今後ブランチを使い続けるにあたって、これらのツールが便利に使えるでしょう。</p>

<p><code>git branch</code> コマンドは、単にブランチを作ったり削除したりするだけのものではありません。何も引数を渡さずに実行すると、現在のブランチの一覧を表示します。</p>

<pre><code>$ git branch
  iss53
* master
  testing</code></pre>

<p><code>*</code> という文字が <code>master</code> ブランチの先頭についていることに注目しましょう。これは、現在チェックアウトされているブランチを意味します。つまり、ここでコミットを行うと、<code>master</code> ブランチがひとつ先に進むということです。各ブランチにおける直近のコミットを調べるには <code>git branch –v</code> を実行します。</p>

<pre><code>$ git branch -v
  iss53   93b412c fix javascript issue
* master  7a98805 Merge branch &#39;iss53&#39;
  testing 782fd34 add scott to the author list in the readmes</code></pre>

<p>各ブランチの状態を知るために便利なもうひとつの機能として、現在作業中のブランチにマージ済みかそうでないかによる絞り込みができるようになっています。そのための便利なオプション <code>--merged</code> と <code>--no-merged</code> が、Git バージョン 1.5.6 以降で使用可能となりました。現在作業中のブランチにマージ済みのブランチを調べるには <code>git branch –merged</code> を実行します。</p>

<pre><code>$ git branch --merged
  iss53
* master</code></pre>

<p>すでに先ほど <code>iss53</code> ブランチをマージしているので、この一覧に表示されています。このリストにあがっているブランチのうち先頭に <code>*</code> がついていないものは、通常は <code>git branch -d</code> で削除してしまって問題ないブランチです。すでにすべての作業が別のブランチに取り込まれているので、もはや何も失うことはありません。</p>

<p>まだマージされていない作業を持っているすべてのブランチを知るには、<code>git branch --no-merged</code> を実行します。</p>

<pre><code>$ git branch --no-merged
  testing</code></pre>

<p>先ほどのブランチとは別のブランチが表示されます。まだマージしていない作業が残っているので、このブランチを <code>git branch -d</code> で削除しようとしても失敗します。</p>

<pre><code>$ git branch -d testing
error: The branch &#39;testing&#39; is not an ancestor of your current HEAD.
If you are sure you want to delete it, run &#39;git branch -D testing&#39;.</code></pre>

<p>本当にそのブランチを消してしまってよいのなら <code>-D</code> で強制的に消すこともできます。……と、親切なメッセージで教えてくれていますね。</p>

<div id='nav'>
<a href='ch3-2.html'>prev</a> | <a href='ch3-4.html'>next</a>
</div>