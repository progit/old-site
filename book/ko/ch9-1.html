---
layout: master
title: Pro Git 9.1 Git의 내부구조 Plumbing 명령과 Porcelain 명령
---
<h2 id='plumbing__porcelain_'>Plumbing 명령과 Porcelain 명령</h2>

<p>이 책에서는 <code>checkout</code>, <code>branch</code>, <code>remote</code>와 같은 30여 가지의 Git 명령을 사용하였다. Git은 사실 사용자 친화적인 VCS이기 보다는 VCS로도 사용할 수 있는 툴킷이였다. 그래서 저수준의 일을 처리할 수 있는 수많은 명령어를 갖고 있다. 명령어 여러 개를 Unix 스타일로 함께 엮어서 실행하거나 스크립트에서 호출될 수 있도록 디자인됐다. 이러한 저수준의 명령어는 &#8220;Plumbing&#8221; 명령어라고 부르고 좀 더 사용자 친화적인 명령어는 &#8220;Porcelain&#8221; 명령어라고 부른다.</p>

<p>이 책의 앞 8개 장은 Porcelain 명령만 사용했다. 하지만, 이 장에서는 저수준의 Plumbing 명령을 주로 사용할 것이다. 이 명령으로 Git의 내부구조에 접근할 수 있고 실제로 왜, 그렇게 작동하는지도 살펴볼 수 있다. Plumbing 명령은 직접 커맨드라인에서 실행하기보다 새로운 도구를 만들거나 각자 필요한 스크립트를 작성할 때 사용한다.</p>

<p>새로 만든 디렉토리나 이미 파일이 있는 디렉토리에서 <code>git init</code> 명령을 실행하면 Git은 데이터를 저장하고 관리하는 <code>.git</code> 디렉토리를 만든다. 이 디렉토리를 복사하기만 해도 저장소가 백업 된다. 이 장은 기본적으로 이 디렉토리에 대한 내용을 다루고 있다. 디렉토리 구조는 다음과 같다:</p>

<pre><code>$ ls
HEAD
branches/
config
description
hooks/
index
info/
objects/
refs/</code></pre>

<p>기본적으로 이것이 <code>git init</code>을 한 직후에 보이는 새 저장소의 모습이고, 이 외에 다른 파일들이 더 있을 수 있다. <code>branches</code> 디렉토리는 Git의 예전 버전에서만 사용하고 <code>description</code> 파일은 기본적으로 GitWeb 프로그램에서만 사용하기 때문에 이 둘은 무시해도 된다. <code>config</code> 파일에는 해당 프로젝트에만 적용되는 설정 옵션이 들어 있고, <code>info</code> 디렉토리는 .gitignore 파일처럼 무시할 파일의 패턴을 적어 두는 곳이다. 하지만 .gitignore 파일과는 달리 Git으로 관리되지 않는다. <code>hook</code> 디렉토리에는 클라이언트 훅이나 서버 훅을 넣는다. 관련 내용은 7장에서 다루었다.</p>

<p>이제 남은 네 가지 항목은 모두 중요한 항목이다. <code>HEAD</code>와 <code>index</code> 파일, <code>objects</code>와 <code>refs</code> 디렉토리가 남았다. 이 네 항목이 Git의 핵심이다. <code>objects</code> 디렉토리는 모든 컨텐트를 저장하는 데이터베이스이고 <code>refs</code> 디렉토리에는 Commit 개체의 포인터를 저장한다. <code>HEAD</code> 파일은 현재 Checkout한 브랜치를 가리키고 <code>index</code> 파일은 Staging Area의 정보를 저장한다. 이 네 가지 항목을 자세히 살펴보면 Git이 어떻게 동작하는지 알게 된다.</p>

<div id='nav'>
<a href='ch9-0.html'>prev</a> | <a href='ch9-2.html'>next</a>
</div>